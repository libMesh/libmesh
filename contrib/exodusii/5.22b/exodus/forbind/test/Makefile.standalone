# Copyright (c) 2005 Sandia Corporation. Under the terms of Contract
# DE-AC04-94AL85000 with Sandia Corporation, the U.S. Governement
# retains certain rights in this software.
# 
# Redistribution and use in source and binary forms, with or without
# modification, are permitted provided that the following conditions are
# met:
# 
#     * Redistributions of source code must retain the above copyright
#       notice, this list of conditions and the following disclaimer.
# 
#     * Redistributions in binary form must reproduce the above
#       copyright notice, this list of conditions and the following
#       disclaimer in the documentation and/or other materials provided
#       with the distribution.  
# 
#     * Neither the name of Sandia Corporation nor the names of its
#       contributors may be used to endorse or promote products derived
#       from this software without specific prior written permission.
# 
# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
# "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
# LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
# A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
# OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
# SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
# LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
# DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
# THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
# (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
# OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
# 


NCDUMP = $(NETCDF)/bin/ncdump

# Use libexoIIv2for32.a if not using -fdefault-real-8 -fdefault-integer-8
LOCALEXO = ../../libexoIIv2for.a ../../libexodus.a

PROGS = testwt testwtd testrd testrd1 testrdd testwt1 testwt2 testwtm testcp testcpnl testcpln testwt_nsid testrd_nsid test_nem

all:: check

all:: testwt
testwt::     testwt.o     $(LOCALEXO)
	$(FC) -o $@      testwt.o      $(LOCALEXO) $(LDFLAGS) $(EXTRA_LOAD_FLAGS)

clean::
	$(RM) testwt

all:: testwtd
testwtd::    testwtd.o    $(LOCALEXO) 
	$(FC) -o $@     testwtd.o      $(LOCALEXO) $(LDFLAGS) $(EXTRA_LOAD_FLAGS)

clean::
	$(RM) testwtd

all:: testrd
testrd::     testrd.o     $(LOCALEXO) 
	$(FC) -o $@      testrd.o      $(LOCALEXO) $(LDFLAGS) $(EXTRA_LOAD_FLAGS)

clean::
	$(RM) testrd

all:: testrd1
testrd1::    testrd1.o    $(LOCALEXO) 
	$(FC) -o $@     testrd1.o      $(LOCALEXO) $(LDFLAGS) $(EXTRA_LOAD_FLAGS)

clean::
	$(RM) testrd1

all:: testrdd
testrdd::    testrdd.o    $(LOCALEXO) 
	$(FC) -o $@     testrdd.o      $(LOCALEXO) $(LDFLAGS) $(EXTRA_LOAD_FLAGS)

clean::
	$(RM) testrdd

all:: testwt1
testwt1::    testwt1.o    $(LOCALEXO) 
	$(FC) -o $@     testwt1.o      $(LOCALEXO) $(LDFLAGS) $(EXTRA_LOAD_FLAGS)

clean::
	$(RM) testwt1

all:: testwt2
testwt2::    testwt2.o    $(LOCALEXO) 
	$(FC) -o $@     testwt2.o      $(LOCALEXO) $(LDFLAGS) $(EXTRA_LOAD_FLAGS)

clean::
	$(RM) testwt2

all:: testwtm
testwtm::    testwtm.o    $(LOCALEXO) 
	$(FC) -o $@     testwtm.o      $(LOCALEXO) $(LDFLAGS) $(EXTRA_LOAD_FLAGS)

clean::
	$(RM) testwtm

all:: testcp
testcp::     testcp.o     $(LOCALEXO) 
	$(FC) -o $@      testcp.o      $(LOCALEXO) $(LDFLAGS) $(EXTRA_LOAD_FLAGS)

clean::
	$(RM) testcp

all:: testcpnl
testcpnl::   testcpnl.o   $(LOCALEXO) 
	$(FC) -o $@    testcpnl.o      $(LOCALEXO) $(LDFLAGS) $(EXTRA_LOAD_FLAGS)

clean::
	$(RM) testcpnl

all:: testcpln
testcpln::   testcpln.o   $(LOCALEXO) 
	$(FC) -o $@    testcpln.o      $(LOCALEXO) $(LDFLAGS) $(EXTRA_LOAD_FLAGS)

clean::
	$(RM) testcpln

all:: testwt_nsid
testwt_nsid::  testwt_nsid.o   $(LOCALEXO) 
	$(FC) -o $@   testwt_nsid.o      $(LOCALEXO) $(LDFLAGS) $(EXTRA_LOAD_FLAGS)

clean::
	$(RM) testwt_nsid

all:: testrd_nsid
testrd_nsid::  testrd_nsid.o   $(LOCALEXO) 
	$(FC) -o $@   testrd_nsid.o      $(LOCALEXO) $(LDFLAGS) $(EXTRA_LOAD_FLAGS)

clean::
	$(RM) testrd_nsid

all:: test_nem
test_nem::   test_nem.o   $(LOCALEXO) 
	$(FC) -o $@    test_nem.o      $(LOCALEXO) $(LDFLAGS) $(EXTRA_LOAD_FLAGS)

test:  check
check: $(PROGS)
	csh ./testall.standalone $(NCDUMP)

clean::
	rm -f *.res $(PROGS)

clean::
	rm -f *.exo

clean::
	rm -f test.output

clean::
	rm -f  *.CKP *.ln *.BAK *.bak *.o *.M *.mod core errs ,* *~ *.a .emacs_* tags TAGS make.log MakeOut   "#"*

.SUFFIXES: .F .f .c
.c.o:
	$(CC) -c $(CFLAGS) $*.c
.f.o:
	$(FC) -c $(FFLAGS) $*.f
.F.o:
	$(FC) -c $(DEFINES) $(FFLAGS) $*.F

# ----------------------------------------------------------------------
# dependencies generated by makedepend or sfmakedepend

